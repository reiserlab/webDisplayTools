# Claude Context for webDisplayTools

## Project Overview

**webDisplayTools** is a collection of web-based tools for configuring and editing display patterns for modular arena systems used in neuroscience research. This is a public repository that provides browser-based interfaces for creating patterns and configurations.

**Live Site**: https://reiserlab.github.io/webDisplayTools/

## Project Philosophy

- **Client-side only**: All tools run entirely in the browser, no server required
- **Vanilla JavaScript**: Keep it simple, no build process or frameworks
- **Consistency**: All tools share the same dark theme design system
- **MATLAB compatibility**: Web tool outputs must match MATLAB tool outputs exactly

## Repository Structure

```
webDisplayTools/
‚îú‚îÄ‚îÄ index.html                # Landing page with links to all tools
‚îú‚îÄ‚îÄ g6_panel_editor.html      # G6 Panel Pattern Editor (READY)
‚îú‚îÄ‚îÄ arena_editor.html         # Coming soon placeholder
‚îú‚îÄ‚îÄ g41_pattern_editor.html   # Coming soon placeholder
‚îú‚îÄ‚îÄ g6_pattern_editor.html    # Coming soon placeholder
‚îú‚îÄ‚îÄ experiment_designer.html  # Coming soon placeholder
‚îî‚îÄ‚îÄ README.md                 # Public documentation
```

**Note**: Flat structure intentional - all HTML files in root for simplicity and easy GitHub Pages deployment.

## Design System

All tools use a consistent dark theme with these CSS variables:

```css
--bg: #0f1419;           /* Main background */
--surface: #1a1f26;      /* Card/panel backgrounds */
--border: #2d3640;       /* Border colors */
--text: #e6edf3;         /* Primary text */
--text-dim: #8b949e;     /* Secondary text */
--accent: #00e676;       /* Green accent - primary actions */
--hover: #00c853;        /* Hover states */
```

**Fonts**:
- Headings: `JetBrains Mono`
- Body: `IBM Plex Mono`

## Current Status

### ‚úÖ Completed Tools
- **G6 Panel Pattern Editor** (`g6_panel_editor.html`)
  - 20√ó20 pixel pattern editor
  - Multiple modes: GS2, GS16, 4-Char, LED Map Reference
  - Real-time preview
  - Pattern export functionality
  - Version 6 (last updated 2025-01-12)

### üöß Planned Tools (Coming Soon pages exist)
- **Arena Layout Editor** - Configure arena geometry and export config files
- **G4.1 Pattern Editor** - Pattern creation for G4.1 display systems
- **G6 Pattern Editor** - Multi-panel pattern editor with animation support
- **Experiment Designer** - Experiment configuration and stimulus sequencing

## Key Decisions & Rationale

### Why separate from maDisplayTools?
- `maDisplayTools` is a private MATLAB repository
- Web tools need to be public for easy sharing and deployment
- GitHub Pages requires public repository for free hosting
- Clean separation of concerns: MATLAB tools vs web tools

### Why flat structure (no subdirectories)?
- Simpler to maintain
- Easier GitHub Pages deployment (no path issues)
- Each tool is self-contained in a single HTML file
- No build process needed

### Why single-page HTML files?
- Self-contained and portable
- No dependencies or build step
- Can be downloaded and run locally
- Easy to share individual tools

## Development Guidelines

### Version Numbering - IMPORTANT
Each individual tool has its own version number and timestamp displayed in the footer.

**Format**: `Version X | Last updated: YYYY-MM-DD`

**When to increment version number**:
- Increment the version number whenever you make substantial changes to a tool
- Examples of substantial changes:
  - Adding new features or modes
  - Fixing significant bugs
  - Changing export format
  - UI/UX improvements
  - Performance optimizations
- Update the timestamp to current date (format: YYYY-MM-DD)

**Example footer**:
```html
<p style="font-size: 0.75rem; margin-top: 0.5rem; color: var(--text-dim);">
  Version 6 | Last updated: 2025-01-12
</p>
```

**Current versions**:
- G6 Panel Pattern Editor: Version 6 (2025-01-12)

### Workflow for Creating New Tools

**Standard workflow** (recommended):
1. First, update or create the MATLAB tool in `maDisplayTools` repository
2. Test and validate the MATLAB implementation
3. Document the MATLAB tool's specifications, inputs, and outputs
4. Then, specify how to convert it into a web tool:
   - Define the UI requirements
   - Document the export format (must match MATLAB output exactly)
   - Identify key functionality to replicate
   - Note any web-specific considerations
5. Implement the web version in this repository
6. Verify web tool outputs match MATLAB outputs exactly

This ensures consistency between MATLAB and web tools and maintains the single source of truth in MATLAB.

### When adding new tools:
1. Use the existing "coming soon" pages as templates
2. Maintain the design system (colors, fonts, layout)
3. Add "‚Üê Back to Tools" navigation link
4. Include Reiser Lab footer with GitHub link AND version/date
5. Test locally before pushing
6. Update README.md with tool status
7. Add version number as "Version 1" for new tools

### Naming conventions:
- Files: `snake_case.html` (e.g., `g6_panel_editor.html`)
- CSS classes: `kebab-case` (e.g., `.tool-card`)
- JavaScript: `camelCase` (e.g., `patternState`)

### GitHub Pages:
- Deploys automatically from `main` branch, root directory
- Changes are live within 1-2 minutes
- Test locally first: just open HTML files in browser

## Related Repositories

- **maDisplayTools** (private): MATLAB tools for display control and pattern generation
- Located at: `https://github.com/reiserlab/maDisplayTools`
- This repository provides the web interface companion tools

## Common Tasks

### Adding a new tool (detailed steps):
1. **Reference MATLAB implementation**
   - Check `maDisplayTools` repository for corresponding MATLAB tool
   - Review input/output specifications
   - Document file format requirements
2. Copy an existing "coming soon" page as template
3. Update title, heading, and description
4. Implement tool functionality (maintain design system)
5. **Add version footer**: Start new tools at "Version 1" with current date
6. Test locally - verify outputs match MATLAB format exactly
7. Update `index.html` to mark as "Ready"
8. Update README.md with tool status and version
9. Update `.claude.md` "Current versions" section
10. Commit and push to `main`

### Updating design system:
- Change CSS variables in the `:root` section
- Apply consistently across all HTML files
- Test all pages for visual consistency

### Testing locally:
```bash
# Just open any HTML file in a browser
open index.html
# or
open g6_panel_editor.html
```

## Future Development Priorities

1. **Arena Layout Editor** - Next priority for implementation
2. **G4.1 Pattern Editor** - After arena editor
3. **G6 Pattern Editor** (multi-panel) - Extends single-panel editor
4. **Experiment Designer** - Final tool to implement

## Notes for Future Sessions

- All tools should work offline after initial page load
- Keep external dependencies minimal (only Google Fonts currently)
- Outputs must be compatible with MATLAB tools in maDisplayTools
- When implementing new tools, check maDisplayTools for specifications
- Users are neuroscience researchers - prioritize clarity and reliability
